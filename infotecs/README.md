# Client-Server Application

## Описание

Данный проект реализует клиент-серверное взаимодействие через сокеты. Программа состоит из двух частей:

1. **Клиентская программа (Client)**:
    - Принимает строку, введенную пользователем.
    - Проверяет, что строка состоит только из цифр и не превышает 64 символа.
    - Сортирует строку по убыванию и заменяет четные цифры на символы "КВ".
    - Передает обработанную строку в общий буфер и рассчитывает сумму числовых значений.
    - Передает рассчитанную сумму на сервер.

2. **Серверная программа (Server)**:
    - Ожидает данные от клиентской программы.
    - Проверяет, что полученное значение состоит из более чем 2 символов и кратно 32.
    - Выводит сообщение о полученных данных или сообщение об ошибке.

## Структура проекта

```plaintext
infotecs/
├── README.md
├── client
│   ├── CMakeLists.txt
│   ├── include       
│   │   └── client.hpp
│   ├── main.cpp      
│   └── src
│       └── client.cpp
└── server
    ├── CMakeLists.txt
    ├── include
    │   └── server.hpp
    ├── main.cpp
    └── src
        └── server.cpp
```

## Сборка и запуск

### Инструкции по сборке

1. Сгенерируйте файлы сборки с помощью CMake и скомпилируйте:
    ```sh
    cd ./client
    cmake -Bbuild
    make
    ```

    ```sh
    cd ./server
    cmake -Bbuild
    make
    ```

### Запуск

1. Запустите серверную программу:
    ```sh
    ./server/build/server
    ```

2. В другом терминале запустите клиентскую программу:
    ```sh
    ./client/build/client
    ```

## Пример использования

### Входная строка

Клиентская программа ожидает строку, состоящую только из цифр и не превышающую 64 символа. Пример корректной строки:
9995624

### Пример работы

1. **Клиентская программа**:
    - Ввод: `9995624`
    - Обработка: строка сортируется и заменяются четные цифры.
    - Результат: `999KB5KBKB`
    - Сумма числовых значений: `32`
    - Передача суммы на сервер.

2. **Серверная программа**:
    - Получение данных: `32`
    - Анализ: значение `32` больше 2 символов и кратно 32.
    - Вывод: `Received valid data: 32`

Для корректной работы сервера значение, передаваемое клиентом, должно быть кратно 32, например, `32` или `64`.

### Примечания

- Взаимодействие между потоками клиентской программы синхронизировано с использованием `std::mutex` и `std::condition_variable`.
- Программа восстанавливает соединение при потере связи между клиентом и сервером.
- Серверная программа ожидает повторного подключения клиента в случае потери связи.